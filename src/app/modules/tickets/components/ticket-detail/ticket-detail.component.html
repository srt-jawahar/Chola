<div>
  <p-panel>
    <ng-template pTemplate="header">
      <span style="padding-right: 55rem">
        <label style="color: #2c5cc5">Tickets</label>
      </span>
      <button
        pButton
        type="button"
        label="More"
        icon="pi pi-angle-down"
        class="slim-button"
        iconPos="right"
        (click)="menuMore.toggle($event)"
      ></button>
      <p-menu
        #menuMore
        [popup]="true"
        [model]="moreitems"
        appendTo="body"
      ></p-menu>
      <button pButton type="button" label="Close" class="slim-button"></button>
      <button
        pButton
        type="button"
        label="Reply"
        icon="pi pi-reply"
        iconPos="right"
        class="slim-button"
        (click)="replyClick()"
      ></button>

      <button
        pButton
        type="button"
        label="Forward"
        class="slim-button"
      ></button>
    </ng-template>

    <div class="p-fluid grid p-field">
      <div class="col-8" style="background-color: #ebeff3">
        <div class="col-12 itil-detail-note">
          <div class="grid">
            <div class="col-1">
              <img src="assets/A.svg" alt="Image" class="img" />
            </div>

            <div class="col-11">
              <div class="grid">
                <div class="col-11">
                  <label class="sub"
                    >New comment - [#8864527] Duplicate ticket genration becasue
                    of mail subject</label
                  >
                </div>
                <div class="col-1">
                  <span class="edit_sidebar_icon">
                    <i
                      class="pi pi-user-edit"
                      style="font-size: 1rem"
                      (click)="editTicket()"
                    ></i>
                  </span>
                </div>

                <p style="margin-left: 7px">
                  <label style="color: #2c5cc5">
                    Kalyan from FreshService</label
                  >
                  reported 5 months ago(Thu,12 Aug at 10:41 AM)via Email<br />To:femi.p@focusrtech.com,sapsupport@focusrtech.com
                </p>

                <div class="col-12">
                  There is a new comment in the ticket submitted by Mkumar.j to
                  Freshservice
                </div>
                <div class="col-12">Comment added by : Mkumar.j</div>
                <div class="col-12">
                  Ticket :
                  https://support.freshservice.com/support/tickets/8864527
                </div>
                <div class="col-12">
                  Now a dayâ€™s most of the mails are not converting in to ticket
                  in fresh service portal and lot of duplicate ticket is also
                  generating as well.
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 pseudo_reply" *ngIf="pseudoReplyDiv">
          <div class="grid">
            <div class="col-1" style="margin-top: -1rem">
              <img src="assets/A.svg" alt="Image" class="img" />
            </div>
            <div class="col-2" style="margin-top: -1rem">
              <button
                pButton
                pRipple
                type="button"
                label="Reply"
                icon="pi pi-reply"
                class="p-button-text p-button-plain"
                (click)="replyClick()"
              ></button>
            </div>
            <div class="col-2" style="margin-top: -1rem">
              <button
                pButton
                pRipple
                type="button"
                label="Forward"
                icon="pi pi-forward"
                class="p-button-text p-button-plain"
              ></button>
            </div>
          </div>
        </div>
        <div class="col-12 help-desk-reply-note" *ngIf="replydiv">
          <div class="col-12 reply-div">
            <div class="grid">
              <div class="col-1">
                <img src="assets/A.svg" alt="Image" class="img" />
              </div>
              <div class="col-4">Reply to: sales@freshservice.com</div>
            </div>
          </div>
          <div class="col-12 inline-field">
            <div class="grid">
              <div class="col-1" style="margin-top: 10px">From:</div>
              <div class="col-5 text-box">
                <input
                  type="text"
                  pInputText
                  value="SAS Support (sapsupport@focusrtech.com)"
                />
              </div>
              <div
                class="col-offset-4 col-1"
                style="
                  margin-top: 10px;
                  color: #2c5cc5;
                  cursor: pointer;
                  margin-right: -30px;
                "
                (click)="ccClicked()"
              >
                Cc
              </div>
              <div
                class="col-1"
                style="margin-top: 10px; color: #2c5cc5; cursor: pointer"
                (click)="bccClicked()"
              >
                Bcc
              </div>
            </div>
          </div>
          <div class="col-12 inline-text" *ngIf="ccdiv">
            <div class="grid">
              <div class="col-1" style="margin-top: 10px">Cc:</div>
              <div class="col-5">
                <input type="text" pInputText />
              </div>
              <div
                class="col-offset-5 col-1"
                style="margin-top: 10px; color: #2c5cc5; cursor: pointer"
                (click)="ccClear()"
              >
                Clear
              </div>
            </div>
          </div>
          <div class="col-12 inline-text" *ngIf="bccdiv">
            <div class="grid">
              <div class="col-1" style="margin-top: 10px">Bcc:</div>
              <div class="col-5">
                <input type="text" pInputText />
              </div>
              <div
                class="col-offset-5 col-1"
                style="margin-top: 10px; color: #2c5cc5; cursor: pointer"
                (click)="bccClear()"
              >
                Clear
              </div>
            </div>
          </div>
          <div class="col-12">
            <textarea [rows]="5" [cols]="30" pInputTextarea></textarea>
          </div>
          <div class="col-12 inline-field-label">
            <p-fileUpload
              mode="basic"
              name="demo[]"
              url="./upload.php"
              accept="image/*"
              (onUpload)="onBasicUpload($event)"
              chooseIcon="pi pi-paperclip"
              chooseLabel="Attach a File"
            ></p-fileUpload>
          </div>
          <div class="col-12 inline-field-action">
            <div class="grid">
              <div class="col-offset-8 col-2">
                <button
                  pButton
                  type="button"
                  label="Cancel"
                  (click)="cancelReplyButton()"
                ></button>
              </div>
              <div class="col-2">
                <button pButton type="button" label="Send"></button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-4">
        <div class="item_summary">
          <label class="ticket-label">Status</label>
          <span class="item-summery span">Open</span>
          <div class="item-summery span">
            <label class="ticket-label">Priority</label>
            <span class="item-summery span">Low</span>
          </div>
          <div class="item-summery span">
            <label class="ticket-label">Due by</label>
            <span class="item-summery span">4 months ago</span>
          </div>
          <span>
            <span class="due-label"> on Fri, 13 th aug 7:19 AM </span>
            <div class="change-label" (click)="changeDueDate()">change</div>
          </span>
        </div>
        <p-accordion>
          <p-accordionTab header="REQUESTER INFO" [selected]="true">
            <div class="p-field grid">
              <div class="col-1">
                <img src="assets/A.svg" alt="Image" class="img" />
              </div>
              <div class="col-5">
                <span class="req-label" (click)="editRequesterDetail(requester)"
                  >kalyan from FreshService</span
                >
              </div>
            </div>
            <div class="p-field grid">
              <div class="col-1">
                <span
                  style="font-size: 12px; font-weight: 600; line-height: 10px"
                  >Email:</span
                >
              </div>
              <div class="col-5">
                <span style="font-size: 14px">sales@freshservice.com</span>
              </div>
            </div>
            <div class="p-field grid">
              <div class="col-3">
                <span class="req-label">Recent Tickets</span>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab header="PROPERTIES" [selected]="true">
            <form class="p-fluid p-grid">
              <div class="p-field grid mt-3">
                <div class="col-5">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority"
                      >Priority<span style="color: red">*</span></label
                    >
                  </span>
                </div>
                <div class="col-5">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority"
                      >Status<span style="color: red">*</span></label
                    >
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-5">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Source</label>
                  </span>
                </div>
                <div class="col-5">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Type</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-5">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Urgency</label>
                  </span>
                </div>
                <div class="col-5">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Impact</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-10">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Group</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-10">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Agent</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-10">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Department</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-10">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Category</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-10">
                  <span class="p-float-label">
                    <p-dropdown
                      [options]="priority"
                      optionLabel="name"
                      [showClear]="false"
                    ></p-dropdown>
                    <label for="priority">Child Ticket</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-10">
                  <span class="p-float-label">
                    <textarea
                      id="float-input"
                      rows="5"
                      cols="30"
                      pInputTextarea
                    ></textarea>
                    <label for="float-input">AGENT REMARKS</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-10">
                  <span class="p-float-label">
                    <input id="float-input" type="text" pInputText />
                    <label for="float-input">Consultant Remarks</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-10">
                  <span class="p-float-label">
                    <input id="float-input" type="text" pInputText />
                    <label for="float-input">Tags</label>
                  </span>
                </div>
              </div>
              <div class="p-field grid mt-3">
                <div class="col-offset-8 col-3">
                  <button pButton type="button" label="Update"></button>
                </div>
              </div>
            </form>
          </p-accordionTab>
        </p-accordion>
      </div>
      <div>s ac d</div>
      <p-dialog
        [(visible)]="display"
        appendTo="body"
        [style]="{ width: '50vw' }"
        [modal]="true"
        [closable]="false"
      >
        <ng-template pTemplate="header">
          <label style="font-weight: 600"> Change Due Date </label></ng-template
        >
        <label class="label">When is this ticket due?</label>
        <div *ngIf="calendarDropdowndiv">
          <span>
            <p-dropdown
              [options]="dueDates"
              optionLabel="name"
              appendTo="body"
            ></p-dropdown>
          </span>
          or
          <label
            style="color: #2c5cc5; cursor: pointer"
            (click)="openCalendar($event)"
            >set Date/Time</label
          >
        </div>
        <div *ngIf="calendardiv">
          <p-calendar
            #calendar
            [showTime]="true"
            [showSeconds]="true"
            appendTo="body"
            [inline]="true"
          ></p-calendar>
        </div>
        <div>
          <span style="width: 5rem">
            <button
              pButton
              label="Cancel"
              (click)="cancelClick()"
              type="submit"
              style="float: right !important"
            ></button>
            <button
              pButton
              label="Save"
              type="submit"
              style="float: right !important; margin-right: 1rem"
            ></button>
          </span>
        </div>
      </p-dialog>
    </div>
  </p-panel>
</div>
<p-sidebar
  #sidebar
  [(visible)]="editTicketSidebar"
  position="right"
  [style]="{ width: '45rem' }"
  [showCloseIcon]="false"
>
  <p-panel>
    <ng-template pTemplate="header"> Edit</ng-template>
    <ng-template pTemplate="icons">
      <button
        pButton
        class="p-panel-header-icon"
        (click)="sidebar.close($event)"
      >
        <span class="pi pi-times"></span>
      </button>
    </ng-template>
    <div class="p-fluid p-field grid mt-3">
      <div class="col-12">
        <span class="p-float-label">
          <input id="float-input" type="text" pInputText />
          <label for="float-input"
            >Subject <span style="color: red">*</span></label
          >
        </span>
      </div>
    </div>
    <div class="p-fluid p-field grid mt-3">
      <div class="col-12">
        <span class="p-float-label">
          <input id="float-input" type="text" pInputText />
          <label for="float-input"
            >Search a requester<span style="color: red">*</span></label
          >
        </span>
      </div>
    </div>
    <div class="p-fluid p-field grid mt-3">
      <div class="col-12">
        <span class="p-float-label">
          <p-dropdown
            inputId="dropdown"
            [autoDisplayFirst]="false"
            [options]="departments"
            optionLabel="name"
          ></p-dropdown>
          <label for="dropdown">Department</label>
        </span>
      </div>
    </div>
    <div class="p-fluid p-field grid mt-3">
      <div class="col-12">
        <span class="p-float-label">
          <textarea
            inputId="textarea"
            rows="3"
            style="resize: none"
            cols="30"
            pInputTextarea
          ></textarea>
          <label for="textarea"
            >Description<span style="color: red">*</span></label
          >
        </span>
      </div>
    </div>
    <div class="col-12">
      <p-fileUpload
        mode="basic"
        name="demo[]"
        url="./upload.php"
        accept="image/*"
        (onUpload)="onBasicUpload($event)"
        chooseIcon="pi pi-paperclip"
        chooseLabel="Attach a File"
      ></p-fileUpload>
    </div>

    <div class="p-fluid p-field grid">
      <div class="col-offset-11 p-col-1">
        <span style="width: 5rem">
          <button
            pButton
            label="Save"
            type="submit"
            style="float: right !important"
          ></button
        ></span>
      </div>
    </div>
  </p-panel>
</p-sidebar>
<p-scrollTop></p-scrollTop>
